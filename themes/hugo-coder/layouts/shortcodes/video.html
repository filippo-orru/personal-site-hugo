<!-- Get src param from shortcode -->
{{ $src := $.Get "src"}}

<!-- Get alt param from shortcode -->
{{ $alt := $.Get "alt"}}

{{ $hidecontrols := $.Get "hidecontrols" }}

<!-- Get image -->
<figure>
  <video aria-label="{{ $alt }}" {{ if ne $hidecontrols "true" }} controls {{ else }} playsinline autoplay muted loop {{end }}
    src="{{ (.Page.Resources.GetMatch $src).RelPermalink }}"></video>
  {{ with .Inner }}
  <figcaption>{{ . | markdownify }}</figcaption>
  {{ end }}
</figure>